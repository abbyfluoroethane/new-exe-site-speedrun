---
const testimonials = [
  {
    text: "I just vibecoded with exe.dev and Opus 4.5 a backoffice for our FIPS 140 validation, with a separate view for the lab (where they can also upload test vectors), public links for clients, and guided scripts for testing.\n\nI have not looked at the code once. It works great.\n\nI am... processing this.",
    author: "Filippo Valsorda",
    link: "https://abyssdomain.expert/@filippo/115826635660720358",
  },
  {
    text: "Shelley is seriously incredible, I use a lot of AI dev agents and y'all are really not talking about Shelley enough",
    author: "XplsosivesX",
    source: "Discord",
  },
  {
    text: "That must be worst website ever made.",
    author: "Anonymous",
    source: "Hacker News",
    link: "https://news.ycombinator.com/item?id=46397609",
  },
  {
    text: "Been using it for just over a week now. Really falling in love with it. Even with out AI coding features, I'm not sure how I'd do local development without it.",
    author: "Mark Roddy",
    link: "https://bsky.app/profile/launchit.ai/post/3marf3eofgk2k",
  },
  {
    text: "Daily appreciation for building this - exe.dev and Shelley are amazing! My friends and I (and my dad) have been churning out apps every day!",
    author: "consti",
    source: "Discord",
  },
  {
    text: "Seriously don't die. I haven't found a service I could code on my phone from like this. It's amazing. Now I'm programming remote servers. Stopped using copilot...",
    author: "Asim",
    source: "Discord",
  },
  {
    text: "exe.dev removes the laborious barrier between managing cloud infrastructure, building software, prototyping and ridiculously lowers the barrier to entry for me, I haven't enjoyed building software this much since perhaps discovering Go or self teaching C",
    author: "Emmanuel Odeke",
  },
];
---

<section class="testimonials">
  <div class="testimonial-container">
    {testimonials.map((t, i) => (
      <blockquote class:list={["testimonial", { visible: i === 0 }]} data-index={i}>
        <p class="quote">&ldquo;{t.text}&rdquo;</p>
        <footer>
          <span class="author">&mdash; {t.author}</span>
          {t.source && !t.link && <span class="source">, {t.source}</span>}
          {t.link && (
            <a href={t.link} target="_blank" rel="noopener noreferrer" class="source-link">
              <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor" width="14" height="14">
                <path fill-rule="evenodd" d="M4.25 5.5a.75.75 0 0 0-.75.75v8.5c0 .414.336.75.75.75h8.5a.75.75 0 0 0 .75-.75v-4a.75.75 0 0 1 1.5 0v4A2.25 2.25 0 0 1 12.75 17h-8.5A2.25 2.25 0 0 1 2 14.75v-8.5A2.25 2.25 0 0 1 4.25 4h5a.75.75 0 0 1 0 1.5h-5Z" clip-rule="evenodd" />
                <path fill-rule="evenodd" d="M6.194 12.753a.75.75 0 0 0 1.06.053L16.5 4.44v2.81a.75.75 0 0 0 1.5 0v-4.5a.75.75 0 0 0-.75-.75h-4.5a.75.75 0 0 0 0 1.5h2.553l-9.056 8.194a.75.75 0 0 0-.053 1.06Z" clip-rule="evenodd" />
              </svg>
            </a>
          )}
        </footer>
      </blockquote>
    ))}
  </div>
</section>

<script>
  const testimonials = document.querySelectorAll('.testimonial');
  const count = testimonials.length;
  let shown = new Set([0]);
  let current = 0;

  function next() {
    testimonials[current].classList.remove('visible');

    if (shown.size >= count) {
      shown.clear();
    }

    let pick;
    do {
      pick = Math.floor(Math.random() * count);
    } while (pick === current || shown.has(pick));

    shown.add(pick);
    current = pick;

    setTimeout(() => {
      testimonials[current].classList.add('visible');
    }, 1200);
  }

  setInterval(next, 7400);
</script>

<style>
  .testimonials {
    position: absolute;
    bottom: 3.5rem;
    left: 50%;
    transform: translateX(-50%);
    width: calc(100% - 2rem);
    max-width: 36rem;
    text-align: center;
    padding: 0 1rem;
  }

  .testimonial-container {
    position: relative;
  }

  .testimonial {
    opacity: 0;
    transition: opacity 1.2s ease-in-out;
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
  }

  .testimonial:first-child {
    position: relative;
  }

  .testimonial.visible {
    opacity: 1;
  }

  .quote {
    font-size: 0.8125rem;
    color: var(--color-body);
    line-height: 1.6;
    white-space: pre-line;
  }

  footer {
    margin-top: 0.75rem;
    font-size: 0.75rem;
    color: var(--color-muted);
  }

  .source {
    color: var(--color-subtle);
  }

  .source-link {
    color: var(--color-subtle);
    margin-left: 0.25rem;
    vertical-align: middle;
    transition: color 0.2s;
  }

  .source-link:hover {
    color: var(--color-hover);
  }

  @media (max-width: 639px) {
    .quote {
      font-size: 0.75rem;
    }
  }

  @media (max-height: 500px) {
    .testimonials {
      display: none;
    }
  }
</style>
